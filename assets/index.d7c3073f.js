var D=Object.defineProperty;var p=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var y=(i,e,t)=>e in i?D(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,d=(i,e)=>{for(var t in e||(e={}))R.call(e,t)&&y(i,t,e[t]);if(p)for(var t of p(e))I.call(e,t)&&y(i,t,e[t]);return i};import{g as o,l as T,F as O,S as N,a as E,N as L,T as v}from"./vendor.294cac20.js";const _=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};_();const g=100;class F{constructor(e){this.isVisible=!1,this.htmlElement=document.getElementById(e)}show(){this.isVisible||(o.to(this.htmlElement,{y:"-1.6rem",duration:.3}),this.isVisible=!0)}hide(){this.isVisible&&(o.to(this.htmlElement,{y:"100%",duration:.3}),this.isVisible=!1)}showOnScroll(e,t){t>=g?t<e?this.show():t>e&&this.hide():t<=g&&this.hide()}}class q{constructor(){const e="theme"in localStorage,t=window.matchMedia("(prefers-color-scheme: dark)").matches;if(e)switch(localStorage.getItem("theme")){case"light":this.setLightTheme();break;case"dark":this.setDarkTheme();break;default:throw new Error("The theme is invalid")}else t?this.setDarkTheme():this.setLightTheme()}setLocalTheme(){const e=localStorage.getItem("theme");switch(this.theme){case"light":e!=="light"&&localStorage.setItem("theme","light");break;case"dark":e!=="dark"&&localStorage.setItem("theme","dark");break;default:throw new Error("The theme is invalid")}}toggleTheme(){switch(this.theme){case"light":this.setDarkTheme();break;case"dark":this.setLightTheme();break;default:throw new Error("The theme is invalid")}}setLightTheme(){this.theme="light",document.documentElement.classList.contains("dark")&&document.documentElement.classList.remove("dark"),this.setLocalTheme()}setDarkTheme(){this.theme="dark",document.documentElement.classList.contains("dark")||document.documentElement.classList.add("dark"),this.setLocalTheme()}}class P{constructor(e,t){this.htmlElement=document.getElementById(e),this.htmlElementActiveClass=t,this.isActive=!1}toggle(){this.isActive?this.deactivate():this.activate()}activate(){this.isActive||(this.htmlElement.classList.add(this.htmlElementActiveClass),this.isActive=!0)}deactivate(){this.isActive&&(this.htmlElement.classList.remove(this.htmlElementActiveClass),this.isActive=!1)}}class U{constructor(e){this.isOpen=!1,this.htmlElement=document.getElementById(e)}open(e){this.isOpen||(o.to(this.htmlElement,{x:"0",duration:.3}),document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.left="0",document.body.style.width="100%",this.isOpen=!0)}close(){if(this.isOpen){const e=document.body.style.top;o.to(this.htmlElement,{x:"-100%",duration:.3}),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",window.scrollTo(0,parseInt(e||"0")*-1),this.isOpen=!1}}}class V{constructor(){this.htmlElement=!1,this.isMounted=!1}mount(){this.isMounted||(this.htmlElement||(this.htmlElement=document.createElement("div"),this.htmlElement.classList.add("scrim")),document.body.prepend(this.htmlElement),o.to(this.htmlElement,{opacity:1,duration:.3}),this.isMounted=!0)}unmount(){this.isMounted&&(o.to(this.htmlElement,{opacity:0,duration:.3,onComplete:()=>{document.body.removeChild(this.htmlElement)}}),this.isMounted=!1)}}var J="/Failygames/assets/gold-medal.58b7113e.svg",G="/Failygames/assets/silver-medal.99252518.svg",j="/Failygames/assets/bronze-medal.2d5df046.svg";class c{constructor(e){this.tableRows=e.rows,this.tableHead=document.getElementById(e.head),this.tableBody=document.getElementById(e.body),this.tableColumns=this.getTableColumns(),this.hasBeenSearched=!1,this.sortTable(),this.displayTable()}getTableColumns(){if(this.tableRows.length>0&&Array.isArray(this.tableRows)){const e=Object.keys(this.tableRows[0]);if(this.tableRows.every((s,n)=>n>0?T.exports.isEqual(e,Object.keys(s)):!0))return e;throw new Error("The JSON file objects are not valid")}else throw new Error("The JSON file is not valid")}sortTable(){let e=0,t=1;this.tableRows.sort((s,n)=>n.points-s.points),this.tableRows=this.tableRows.map((s,n)=>n===0?(e=s.points,d({position:t},s)):s.points===e?d({position:t},s):(e=s.points,t+=1,d({position:t},s)))}getMedal(e){const t=document.createElement("img");switch(t.classList.add("leaderboard__medal"),e){case 1:t.setAttribute("src",J),t.setAttribute("alt","Gold medal illustration");break;case 2:t.setAttribute("src",G),t.setAttribute("alt","Silver medal illustration");break;case 3:t.setAttribute("src",j),t.setAttribute("alt","Bronze medal illustration");break;default:throw new Error("The position is invalid")}return t}displayTableHead(){const e=document.createElement("tr");this.tableColumns=["position",...this.tableColumns],this.tableColumns.forEach(t=>{const s=document.createElement("th");s.classList.add("leaderboard__header"),s.setAttribute("scope","col"),s.innerText=t,e.appendChild(s)}),this.tableHead.appendChild(e)}displayTableBody(e=this.tableRows){this.tableBody.hasChildNodes()&&(this.tableBody.innerHTML=""),e.forEach(t=>{const s=document.createElement("tr");s.classList.add("leaderboard__row"),Object.values(t).forEach((n,a)=>{const l=document.createElement("td");if(a===0&&t.position<=3){const u=document.createElement("span"),H=this.getMedal(t.position);u.innerText=n,u.classList.add("leaderboard__position"),l.classList.add("leaderboard__data","leaderboard__data--with-medal"),l.appendChild(u),l.appendChild(H)}else l.innerText=n,l.classList.add("leaderboard__data");s.appendChild(l)}),this.tableBody.appendChild(s)})}displayTable(){this.displayTableHead(),this.displayTableBody()}}const z="2022-03-20T20:00:00",h={rotateX:-180,duration:.5};class K{constructor(e){this.timeLeft=this.getTimeLeft(),this.daysLeft=0,this.hoursLeft=0,this.minutesLeft=0,this.secondsLeft=0,this.daysAnimation=!1,this.hoursAnimation=!1,this.minutesAnimation=!1,this.secondsFlipAnimation=!1,this.daysHtmlElements=e.days,this.hoursHtmlElements=e.hours,this.minutesHtmlElements=e.minutes,this.secondsHtmlElements=e.seconds,this.timeLeft<=0?this.launchFireworks():(this.setTimeUnits(),this.countdown=setInterval(()=>{this.displayTime()},1e3)),this.initialCall=!0,this.displayTime(),this.initialCall=!1}getTimeLeft(){const e=new Date(z).getTime(),t=Date.now();return Math.round((e-t)/1e3)}setTimeUnits(){let e=this.timeLeft;this.daysLeft=Math.floor(e/86400),e%=86400,this.hoursLeft=Math.floor(e/3600),e%=3600,this.minutesLeft=Math.floor(e/60),this.secondsLeft=e%60}formatTimeUnit(e){return e>9?String(e):`0${e}`}displayDays(){const e=this.daysLeft-1;for(let t=0;t<2;t++)this.daysHtmlElements.current[t].innerText=this.formatTimeUnit(this.daysLeft),this.daysHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.daysAnimation?this.daysAnimation.restart():this.daysAnimation=o.to("#days-flip-pannel",h),this.daysLeft=e)}displayHours(){const e=this.hoursLeft<=0?23:this.hoursLeft-1;for(let t=0;t<2;t++)this.hoursHtmlElements.current[t].innerText=this.formatTimeUnit(this.hoursLeft),this.hoursHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.hoursAnimation?this.hoursAnimation.restart():this.hoursAnimation=o.to("#hours-flip-pannel",h),this.hoursLeft=e)}displayMinutes(){const e=this.minutesLeft<=0?59:this.minutesLeft-1;for(let t=0;t<2;t++)this.minutesHtmlElements.current[t].innerText=this.formatTimeUnit(this.minutesLeft),this.minutesHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.minutesAnimation?this.minutesAnimation.restart():this.minutesAnimation=o.to("#minutes-flip-pannel",h),this.minutesLeft=e)}displaySeconds(){const e=this.secondsLeft<=0?59:this.secondsLeft-1;for(let t=0;t<2;t++)this.secondsHtmlElements.current[t].innerText=this.formatTimeUnit(this.secondsLeft),this.secondsHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.secondsFlipAnimation?this.secondsFlipAnimation.restart():this.secondsFlipAnimation=o.to("#seconds-flip-pannel",h),this.secondsLeft=e)}displayTime(){const e=this.hoursLeft<=0&&this.minutesLeft<=0&&this.secondsLeft<=0,t=this.minutesLeft<=0&&this.secondsLeft<=0,s=this.secondsLeft<=0;this.timeLeft<0&&!this.initialCall?(clearInterval(this.countdown),this.launchFireworks()):((e||this.initialCall)&&this.displayDays(),(t||this.initialCall)&&this.displayHours(),(s||this.initialCall)&&this.displayMinutes(),this.displaySeconds(),this.timeLeft-=1)}launchFireworks(){console.log("FIREWORKS")}}var $=[{team:"Lena Silvo",points:1e3},{team:"Quentin Cooper",points:600},{team:"Alexis Menpeur",points:800},{team:"Jenny Baker",points:400},{team:"Garry Green",points:900},{team:"Ada Jackson",points:300},{team:"Pamela Padilla",points:700},{team:"Clea Dawson",points:500},{team:"Elina Deau",points:300}],Q=[{team:"Garry Green",points:900},{team:"Lena Silvo",points:1e3},{team:"Alexis Menpeur",points:800}],W=[{team:"Quentin Cooper",points:600},{team:"Pamela Padilla",points:700},{team:"Clea Dawson",points:500}],X=[{team:"Elina Deau",points:300},{team:"Ada Jackson",points:300},{team:"Jenny Baker",points:400}];class Y{constructor(e){this.leaderboard=e,this.fuse=new O(this.leaderboard.tableRows,{keys:["team"]})}search(e){if(console.log("called with -> "+e),e.length>0){const t=this.fuse.search(e).map(s=>s.item);this.leaderboard.displayTableBody(t),this.leaderboard.hasBeenSearched=!0}else this.leaderboard.displayTableBody(),this.leaderboard.hasBeenSearched=!1}}o.registerPlugin(N);let m=0,w=0;const Z=document.getElementById("hamburger-button"),C=new q,f=new P("theme-toggle-button","toggle-button--active"),A=new F("floating-action-button","floating-action-button--visible"),b=new U("drawer"),r=new V,ee=new c({rows:$,head:"leaderboard-head-global",body:"leaderboard-body-global"}),te=new c({rows:Q,head:"leaderboard-head-q1",body:"leaderboard-body-q1"}),se=new c({rows:W,head:"leaderboard-head-q2",body:"leaderboard-body-q2"}),ie=new c({rows:X,head:"leaderboard-head-q3",body:"leaderboard-body-q3"}),k=[ee,te,se,ie];new K({days:{current:document.getElementsByClassName("days-current-time"),next:document.getElementsByClassName("days-next-time")},hours:{current:document.getElementsByClassName("hours-current-time"),next:document.getElementsByClassName("hours-next-time")},minutes:{current:document.getElementsByClassName("minutes-current-time"),next:document.getElementsByClassName("minutes-next-time")},seconds:{current:document.getElementsByClassName("seconds-current-time"),next:document.getElementsByClassName("seconds-next-time")}});C.theme==="dark"&&f.activate();window.addEventListener("scroll",()=>{m=window.scrollY,A.showOnScroll(w,m),w=m});window.addEventListener("resize",()=>{window.matchMedia("(min-width: 1024px)").matches&&(b.close(),r.isMounted&&r.htmlElement.removeEventListener("click",x),r.unmount())});f.htmlElement.addEventListener("click",()=>{C.toggleTheme(),f.toggle()});A.htmlElement.addEventListener("click",()=>{o.to(window,{duration:.5,scrollTo:0})});function x(){r.unmount(),b.close()}Z.addEventListener("click",()=>{b.open(m),r.mount(),r.htmlElement.addEventListener("click",x,{once:!0})});const ne=new E("#swiper-tabs",{allowTouchMove:!1,modules:[L,v],spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0}),B=new E("#swiper-content",{allowTouchMove:!1,modules:[L,v],spaceBetween:10,autoHeight:!0,thumbs:{swiper:ne}}),S=document.getElementById("leaderboard-search-bar");function ae(i,e){i.search(e)}const M=T.exports.debounce(ae,200);B.on("slideChange",()=>{M.cancel(),S.value="",k.forEach(i=>{i.hasBeenSearched&&i.displayTableBody()})});S.addEventListener("keyup",i=>{const e=i.target.value,t=new Y(k[B.activeIndex]);M(t,e)});
