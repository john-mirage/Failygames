var M=Object.defineProperty;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var p=(i,e,t)=>e in i?M(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,r=(i,e)=>{for(var t in e||(e={}))R.call(e,t)&&p(i,t,e[t]);if(f)for(var t of f(e))D.call(e,t)&&p(i,t,e[t]);return i};import{T as _,a as F,F as N,D as q,S as U}from"./scrim.a6557a32.js";import{l as w,g as o,F as P,S as I,a as g,N as T,T as L}from"./vendor.294cac20.js";var O="/Failygames/assets/gold-medal.58b7113e.svg",J="/Failygames/assets/silver-medal.99252518.svg",G="/Failygames/assets/bronze-medal.2d5df046.svg";class m{constructor(e){this.tableRows=e.rows,this.tableHead=document.getElementById(e.head),this.tableBody=document.getElementById(e.body),this.tableColumns=this.getTableColumns(),this.hasBeenSearched=!1,this.sortTable(),this.displayTable()}getTableColumns(){if(this.tableRows.length>0&&Array.isArray(this.tableRows)){const e=Object.keys(this.tableRows[0]);if(this.tableRows.every((s,a)=>a>0?w.exports.isEqual(e,Object.keys(s)):!0))return e;throw new Error("The JSON file objects are not valid")}else throw new Error("The JSON file is not valid")}sortTable(){let e=0,t=1;this.tableRows.sort((s,a)=>a.points-s.points),this.tableRows=this.tableRows.map((s,a)=>a===0?(e=s.points,r({position:t},s)):s.points===e?r({position:t},s):(e=s.points,t+=1,r({position:t},s)))}getMedal(e){const t=document.createElement("img");switch(t.classList.add("leaderboard__medal"),e){case 1:t.setAttribute("src",O),t.setAttribute("alt","Gold medal illustration");break;case 2:t.setAttribute("src",J),t.setAttribute("alt","Silver medal illustration");break;case 3:t.setAttribute("src",G),t.setAttribute("alt","Bronze medal illustration");break;default:throw new Error("The position is invalid")}return t}displayTableHead(){const e=document.createElement("tr");this.tableColumns=["position",...this.tableColumns],this.tableColumns.forEach(t=>{const s=document.createElement("th");s.classList.add("leaderboard__header"),s.setAttribute("scope","col"),s.innerText=t,e.appendChild(s)}),this.tableHead.appendChild(e)}displayTableBody(e=this.tableRows){this.tableBody.hasChildNodes()&&(this.tableBody.innerHTML=""),e.forEach(t=>{const s=document.createElement("tr");s.classList.add("leaderboard__row"),Object.values(t).forEach((a,k)=>{const n=document.createElement("td");if(k===0&&t.position<=3){const c=document.createElement("span"),H=this.getMedal(t.position);c.innerText=a,c.classList.add("leaderboard__position"),n.classList.add("leaderboard__data","leaderboard__data--with-medal"),n.appendChild(c),n.appendChild(H)}else n.innerText=a,n.classList.add("leaderboard__data");s.appendChild(n)}),this.tableBody.appendChild(s)})}displayTable(){this.displayTableHead(),this.displayTableBody()}}const j="2022-03-20T20:00:00",d={rotateX:-180,duration:.5};class z{constructor(e){this.timeLeft=this.getTimeLeft(),this.daysLeft=0,this.hoursLeft=0,this.minutesLeft=0,this.secondsLeft=0,this.daysAnimation=!1,this.hoursAnimation=!1,this.minutesAnimation=!1,this.secondsFlipAnimation=!1,this.daysHtmlElements=e.days,this.hoursHtmlElements=e.hours,this.minutesHtmlElements=e.minutes,this.secondsHtmlElements=e.seconds,this.timeLeft<=0?this.launchFireworks():(this.setTimeUnits(),this.countdown=setInterval(()=>{this.displayTime()},1e3)),this.initialCall=!0,this.displayTime(),this.initialCall=!1}getTimeLeft(){const e=new Date(j).getTime(),t=Date.now();return Math.round((e-t)/1e3)}setTimeUnits(){let e=this.timeLeft;this.daysLeft=Math.floor(e/86400),e%=86400,this.hoursLeft=Math.floor(e/3600),e%=3600,this.minutesLeft=Math.floor(e/60),this.secondsLeft=e%60}formatTimeUnit(e){return e>9?String(e):`0${e}`}displayDays(){const e=this.daysLeft-1;for(let t=0;t<2;t++)this.daysHtmlElements.current[t].innerText=this.formatTimeUnit(this.daysLeft),this.daysHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.daysAnimation?this.daysAnimation.restart():this.daysAnimation=o.to("#days-flip-pannel",d),this.daysLeft=e)}displayHours(){const e=this.hoursLeft<=0?23:this.hoursLeft-1;for(let t=0;t<2;t++)this.hoursHtmlElements.current[t].innerText=this.formatTimeUnit(this.hoursLeft),this.hoursHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.hoursAnimation?this.hoursAnimation.restart():this.hoursAnimation=o.to("#hours-flip-pannel",d),this.hoursLeft=e)}displayMinutes(){const e=this.minutesLeft<=0?59:this.minutesLeft-1;for(let t=0;t<2;t++)this.minutesHtmlElements.current[t].innerText=this.formatTimeUnit(this.minutesLeft),this.minutesHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.minutesAnimation?this.minutesAnimation.restart():this.minutesAnimation=o.to("#minutes-flip-pannel",d),this.minutesLeft=e)}displaySeconds(){const e=this.secondsLeft<=0?59:this.secondsLeft-1;for(let t=0;t<2;t++)this.secondsHtmlElements.current[t].innerText=this.formatTimeUnit(this.secondsLeft),this.secondsHtmlElements.next[t].innerText=this.formatTimeUnit(e);this.initialCall||(this.secondsFlipAnimation?this.secondsFlipAnimation.restart():this.secondsFlipAnimation=o.to("#seconds-flip-pannel",d),this.secondsLeft=e)}displayTime(){const e=this.hoursLeft<=0&&this.minutesLeft<=0&&this.secondsLeft<=0,t=this.minutesLeft<=0&&this.secondsLeft<=0,s=this.secondsLeft<=0;this.timeLeft<0&&!this.initialCall?(clearInterval(this.countdown),this.launchFireworks()):((e||this.initialCall)&&this.displayDays(),(t||this.initialCall)&&this.displayHours(),(s||this.initialCall)&&this.displayMinutes(),this.displaySeconds(),this.timeLeft-=1)}launchFireworks(){console.log("FIREWORKS")}}var Y=[{team:"Lena Silvo",points:1e3},{team:"Quentin Cooper",points:600},{team:"Alexis Menpeur",points:800},{team:"Jenny Baker",points:400},{team:"Garry Green",points:900},{team:"Ada Jackson",points:300},{team:"Pamela Padilla",points:700},{team:"Clea Dawson",points:500},{team:"Elina Deau",points:300}],Q=[{team:"Garry Green",points:900},{team:"Lena Silvo",points:1e3},{team:"Alexis Menpeur",points:800}],V=[{team:"Quentin Cooper",points:600},{team:"Pamela Padilla",points:700},{team:"Clea Dawson",points:500}],W=[{team:"Elina Deau",points:300},{team:"Ada Jackson",points:300},{team:"Jenny Baker",points:400}];class ${constructor(e){this.leaderboard=e,this.fuse=new P(this.leaderboard.tableRows,{keys:["team"]})}search(e){if(console.log("called with -> "+e),e.length>0){const t=this.fuse.search(e).map(s=>s.item);this.leaderboard.displayTableBody(t),this.leaderboard.hasBeenSearched=!0}else this.leaderboard.displayTableBody(),this.leaderboard.hasBeenSearched=!1}}o.registerPlugin(I);let h=0,y=0;const K=document.getElementById("hamburger-button"),E=new _,u=new F("theme-toggle-button","toggle-button--active"),C=new N("floating-action-button","floating-action-button--visible"),b=new q("drawer"),l=new U,X=new m({rows:Y,head:"leaderboard-head-global",body:"leaderboard-body-global"}),Z=new m({rows:Q,head:"leaderboard-head-q1",body:"leaderboard-body-q1"}),ee=new m({rows:V,head:"leaderboard-head-q2",body:"leaderboard-body-q2"}),te=new m({rows:W,head:"leaderboard-head-q3",body:"leaderboard-body-q3"}),v=[X,Z,ee,te];new z({days:{current:document.getElementsByClassName("days-current-time"),next:document.getElementsByClassName("days-next-time")},hours:{current:document.getElementsByClassName("hours-current-time"),next:document.getElementsByClassName("hours-next-time")},minutes:{current:document.getElementsByClassName("minutes-current-time"),next:document.getElementsByClassName("minutes-next-time")},seconds:{current:document.getElementsByClassName("seconds-current-time"),next:document.getElementsByClassName("seconds-next-time")}});E.theme==="dark"&&u.activate();window.addEventListener("scroll",()=>{h=window.scrollY,C.showOnScroll(y,h),y=h});window.addEventListener("resize",()=>{window.matchMedia("(min-width: 1024px)").matches&&(b.close(),l.isMounted&&l.htmlElement.removeEventListener("click",x),l.unmount())});u.htmlElement.addEventListener("click",()=>{E.toggleTheme(),u.toggle()});C.htmlElement.addEventListener("click",()=>{o.to(window,{duration:.5,scrollTo:0})});function x(){l.unmount(),b.close()}K.addEventListener("click",()=>{b.open(h),l.mount(),l.htmlElement.addEventListener("click",x,{once:!0})});const se=new g("#swiper-tabs",{allowTouchMove:!1,modules:[T,L],spaceBetween:10,slidesPerView:4,watchSlidesProgress:!0}),B=new g("#swiper-content",{allowTouchMove:!1,modules:[T,L],spaceBetween:10,autoHeight:!0,thumbs:{swiper:se}}),A=document.getElementById("leaderboard-search-bar");function ie(i,e){i.search(e)}const S=w.exports.debounce(ie,200);B.on("slideChange",()=>{S.cancel(),A.value="",v.forEach(i=>{i.hasBeenSearched&&i.displayTableBody()})});A.addEventListener("keyup",i=>{const e=i.target.value,t=new $(v[B.activeIndex]);S(t,e)});
